import{E as n,l as I,m as M,n as S,o as B,c as H}from"./element-plus-faba5d50.js";import{r as u,X as _,o as f,c as h,S as e,u as s,a as i,T as $,M as z,a9 as N,Q as o,U as b,a4 as m}from"./@vue-0d9f8f64.js";import{_ as x}from"./info_detail-7bc3c21a.js";import{G as d}from"./request-c385bea1.js";import{h as y}from"./moment-a9aaa855.js";import"./@element-plus-95de2cb4.js";import"./lodash-es-6bf2d523.js";import"./@ctrl-f8748455.js";import"./@popperjs-c75af06c.js";import"./escape-html-19374969.js";import"./dayjs-39b5b250.js";import"./normalize-wheel-es-ed76fb12.js";import"./axios-4a70c6fc.js";import"./index-ee9a13c2.js";import"./msw-cf010ec4.js";import"./vue-router-a98b23b6.js";import"./vuex-ffd217b4.js";const V={class:"flex items-start flex-col h-full w-full"},j=i("div",{class:"mt-2 w-full h-1 bg-light-500"},null,-1),A={class:"flex items-center flex-wrap mt-2 h-10"},F=["onSubmit"],G={class:"text-base text-left ml-5"},Q=["name"],q=i("button",{type:"submit",class:"ml-2 mr-2 border border-light-800 border-solid w-40 truncate bg-green-500 text-white hover:bg-green-600 active:bg-green-700"},"查询",-1),me={__name:"index",setup(O){const c=u(),g=_([{icon:"Avatar",list:[],iconColor:"#4685fd"}]),w=_([{icon:"Avatar",list:[],iconColor:"#4685fd"}]),k=_([{title:"会员id",name:"userId"},{title:"会员手机号",name:"mobile"},{title:"会员昵称",name:"nickname"}]),r=u([]),T=u([]);d("/common/getServerTime").then(t=>{t.code==200?c.value=y(new Date(t.data)).format("YYYY-MM-DD HH:mm:ss"):n.error({message:"时间获取失败",duration:1*1e3})}),d("/mock/statistics/vipInfoList",{}).then(t=>{t.code==200?g[0].list=t.data:n.error({message:"会员信息获取失败",duration:1*1e3})}),d("/mock/statistics/vipExtInfoList",{}).then(t=>{t.code==200?w[0].list=t.data:n.error({message:"会员信息获取失败",duration:1*1e3})}),d("/mock/vipList",{}).then(t=>{t.code==200?(r.value=t.data,r.value.length>0&&(T.value=Object.keys(r.value[0]))):n.error({message:"会员列表获取失败",duration:1*1e3})});const E=t=>{new FormData(t.target).forEach((D,a)=>{})};return(t,D)=>{const a=M,C=S,L=B,v=H,Y=I;return f(),h("div",V,[e(x,{list:s(g),lastTime:s(c),title:"基础信息"},null,8,["list","lastTime"]),j,e(x,{list:s(w),lastTime:s(c),title:"会员信息"},null,8,["list","lastTime"]),i("div",A,[i("form",{onSubmit:$(E,["prevent"]),class:"flex flex-wrap"},[(f(!0),h(z,null,N(s(k),(l,p)=>(f(),h("div",{class:"h-7 flex justify-start",key:p},[i("div",G,b(l.title)+": ",1),i("input",{name:`${l.name}`,class:"px-4 w-40 text-base ml-2 border border-light-800 border-solid"},null,8,Q)]))),128)),q],40,F)]),e(Y,{class:"flex",data:s(r),style:{width:"100%"},border:"",stripe:""},{default:o(()=>[e(a,{prop:"member_id",label:"会员ID",width:"100"}),e(a,{prop:"username",label:"用户名",width:"120"}),e(a,{prop:"mobile",label:"手机号",width:"120"}),e(a,{prop:"realname",label:"真实姓名",width:"100"}),e(a,{prop:"status",label:"状态",width:"80"},{default:o(l=>[e(C,{type:l.row.status===1?"success":"danger"},{default:o(()=>[m(b(l.row.status===1?"正常":"禁用"),1)]),_:2},1032,["type"])]),_:1}),e(a,{prop:"vip_level_name",label:"会员等级",width:"100"}),e(a,{prop:"headimg",label:"头像",width:"80"},{default:o(l=>[e(L,{style:{width:"40px",height:"40px"},src:l.row.headimg,fit:"cover"},null,8,["src"])]),_:1}),e(a,{prop:"point",label:"积分",width:"100"}),e(a,{prop:"balance",label:"余额",width:"100"}),e(a,{prop:"gxz",label:"贡献值",width:"100"}),e(a,{prop:"reg_time",label:"注册时间",width:"180"},{default:o(l=>[m(b(s(y)(new Date(l.row.reg_time*1e3)).format("YYYY-MM-DD HH:mm:ss")),1)]),_:1}),e(a,{label:"操作",fixed:"right",width:"150"},{default:o(l=>[e(v,{type:"primary",size:"small",onClick:p=>t.handleEdit(l.row)},{default:o(()=>[m(" 编辑 ")]),_:2},1032,["onClick"]),e(v,{type:"danger",size:"small",onClick:p=>t.handleDelete(l.row)},{default:o(()=>[m(" 删除 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])])}}};export{me as default};
